# BBR
Enable\Disable BBR Oracle Free Tier  Ubuntu 24.04.2 LTS

```
sudo bash -c "$(curl -L https://raw.githubusercontent.com/avertv/BBR/main/bbr_control.sh)"
```

Скопируйте код выше в файл, например, bbr_control.sh. Сделайте файл исполняемым

```
chmod +x bbr_control.sh
```

Выполните скрипт с правами root

```
sudo ./bbr_control.sh
```

Что делает скрипт:

Проверяет, поддерживает ли ядро BBR (требуется ядро версии 4.9 или выше, что поддерживается в Ubuntu 24.04.2 LTS). Показывает текущий статус BBR (включен или выключен) и текущие параметры qdisc и управления перегрузкой. Показывает доступные алгоритмы управления перегрузкой TCP. Позволяет включить BBR (устанавливает net.core.default_qdisc=fq и net.ipv4.tcp_congestion_control=bbr) или выключить его (возвращает fq_codel и cubic). Применяет изменения без необходимости перезагрузки с помощью sysctl -p.

Проверка результата: После выполнения скрипта он покажет текущий статус BBR и параметры. Вы можете дополнительно проверить статус командой:

```
sysctl net.core.default_qdisc net.ipv4.tcp_congestion_control
```

Примечания: Скрипт проверяет наличие необходимых модулей ядра (CONFIG_TCP_CONG_BBR и CONFIG_NET_SCH_FQ). В Ubuntu 24.04.2 LTS они обычно включены. Для отключения BBR используется стандартный алгоритм cubic и qdisc fq_codel, которые применяются по умолчанию в Ubuntu. Скрипт безопасно редактирует /etc/sysctl.conf, добавляя или удаляя только необходимые строки.

Требования: Убедитесь, что вы используете чистую установку Ubuntu 24.04.2 LTS на Oracle Free Tier (aarch64). Для работы BBR не требуется установка дополнительных пакетов, так как необходимые модули уже встроены в ядро Ubuntu 24.04.2 LTS.
